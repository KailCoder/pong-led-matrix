<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="780" viewBox="0 0 1400 780">
  <style>
    .title { font: bold 22px/1.2 sans-serif; fill:#0b3d91; }
    .subtitle { font: 14px/1.3 sans-serif; fill:#123; }
    .chipbox { fill:#f6f9ff; stroke:#2b6cb0; stroke-width:2; rx:10; }
    .chipname { font: bold 18px/1.2 sans-serif; fill:#0b3d91; }
    .note { font: 12px/1.2 sans-serif; fill:#334; }
    .pin-num { font: 11px/1.2 monospace; fill:#035; }
    .pin-name { font: 12px/1.2 monospace; fill:#012; }
    .pin-line { stroke:#2b6cb0; stroke-width:2; }
    .sect-title { font: bold 16px/1.2 sans-serif; fill:#0b2340; }
    .danger { font: italic 12px/1.2 sans-serif; fill:#b44; }
    .box { fill:#fffef6; stroke:#9f7a16; stroke-width:1; rx:8; }
  </style>

  <text x="700" y="32" text-anchor="middle" class="title">Pin‑a‑pin (DIP‑16) — 74HC595 • 74HC161 • 74HC138</text>
  <text x="700" y="52" text-anchor="middle" class="subtitle">Distribución típica PDIP. Verifica el modelo en Proteus/hoja de datos del fabricante.</text>

  <!-- 74HC595 -->
  <g id="hc595" transform="translate(40,90)">
    <rect x="0" y="0" width="380" height="300" class="chipbox"/>
    <text x="190" y="-10" text-anchor="middle" class="chipname">74HC595 — Shift Register + Latch</text>
    <text x="190" y="20" text-anchor="middle" class="note">SRCLK = SH_CP, RCLK = ST_CP, DS = SER, Q7' = serial out</text>

    <!-- body -->
    <rect x="110" y="60" width="160" height="180" fill="#ffffff" stroke="#2b6cb0" stroke-width="2" rx="8"/>

    <!-- left pins (1..8) -->
    <!-- spacing 24px -->
    <g>
      <!-- Pin 1 -->
      <line x1="70" y1="72" x2="110" y2="72" class="pin-line"/><text x="62" y="76" text-anchor="end" class="pin-num">1</text><text x="116" y="76" class="pin-name">Q1</text>
      <!-- Pin 2 -->
      <line x1="70" y1="96" x2="110" y2="96" class="pin-line"/><text x="62" y="100" text-anchor="end" class="pin-num">2</text><text x="116" y="100" class="pin-name">Q2</text>
      <!-- Pin 3 -->
      <line x1="70" y1="120" x2="110" y2="120" class="pin-line"/><text x="62" y="124" text-anchor="end" class="pin-num">3</text><text x="116" y="124" class="pin-name">Q3</text>
      <!-- Pin 4 -->
      <line x1="70" y1="144" x2="110" y2="144" class="pin-line"/><text x="62" y="148" text-anchor="end" class="pin-num">4</text><text x="116" y="148" class="pin-name">Q4</text>
      <!-- Pin 5 -->
      <line x1="70" y1="168" x2="110" y2="168" class="pin-line"/><text x="62" y="172" text-anchor="end" class="pin-num">5</text><text x="116" y="172" class="pin-name">Q5</text>
      <!-- Pin 6 -->
      <line x1="70" y1="192" x2="110" y2="192" class="pin-line"/><text x="62" y="196" text-anchor="end" class="pin-num">6</text><text x="116" y="196" class="pin-name">Q6</text>
      <!-- Pin 7 -->
      <line x1="70" y1="216" x2="110" y2="216" class="pin-line"/><text x="62" y="220" text-anchor="end" class="pin-num">7</text><text x="116" y="220" class="pin-name">Q7</text>
      <!-- Pin 8 -->
      <line x1="70" y1="240" x2="110" y2="240" class="pin-line"/><text x="62" y="244" text-anchor="end" class="pin-num">8</text><text x="116" y="244" class="pin-name">GND</text>
    </g>

    <!-- right pins (16..9) -->
    <g>
      <!-- Pin 16 -->
      <line x1="270" y1="72" x2="310" y2="72" class="pin-line"/><text x="318" y="76" class="pin-num">16</text><text x="180" y="76" text-anchor="end" class="pin-name">VCC</text>
      <!-- Pin 15 -->
      <line x1="270" y1="96" x2="310" y2="96" class="pin-line"/><text x="318" y="100" class="pin-num">15</text><text x="180" y="100" text-anchor="end" class="pin-name">Q0</text>
      <!-- Pin 14 -->
      <line x1="270" y1="120" x2="310" y2="120" class="pin-line"/><text x="318" y="124" class="pin-num">14</text><text x="180" y="124" text-anchor="end" class="pin-name">DS (SER)</text>
      <!-- Pin 13 -->
      <line x1="270" y1="144" x2="310" y2="144" class="pin-line"/><text x="318" y="148" class="pin-num">13</text><text x="180" y="148" text-anchor="end" class="pin-name">OE (LOW=enable)</text>
      <!-- Pin 12 -->
      <line x1="270" y1="168" x2="310" y2="168" class="pin-line"/><text x="318" y="172" class="pin-num">12</text><text x="180" y="172" text-anchor="end" class="pin-name">ST_CP (RCLK)</text>
      <!-- Pin 11 -->
      <line x1="270" y1="192" x2="310" y2="192" class="pin-line"/><text x="318" y="196" class="pin-num">11</text><text x="180" y="196" text-anchor="end" class="pin-name">SH_CP (SRCLK)</text>
      <!-- Pin 10 -->
      <line x1="270" y1="216" x2="310" y2="216" class="pin-line"/><text x="318" y="220" class="pin-num">10</text><text x="180" y="220" text-anchor="end" class="pin-name">MR (LOW=reset)</text>
      <!-- Pin 9 -->
      <line x1="270" y1="240" x2="310" y2="240" class="pin-line"/><text x="318" y="244" class="pin-num">9</text><text x="180" y="244" text-anchor="end" class="pin-name">Q7' (serial out)</text>
    </g>
  </g>

  <!-- 74HC161 -->
  <g id="hc161" transform="translate(510,90)">
    <rect x="0" y="0" width="380" height="300" class="chipbox"/>
    <text x="190" y="-10" text-anchor="middle" class="chipname">74HC161 — Contador binario 4‑bit</text>
    <text x="190" y="20" text-anchor="middle" class="note">Mapeo típico SN74HC161N (TI). QA..QD = Q0..Q3</text>

    <!-- body -->
    <rect x="110" y="60" width="160" height="180" fill="#ffffff" stroke="#2b6cb0" stroke-width="2" rx="8"/>

    <!-- left pins (1..8) -->
    <g>
      <line x1="70" y1="72" x2="110" y2="72" class="pin-line"/><text x="62" y="76" text-anchor="end" class="pin-num">1</text><text x="116" y="76" class="pin-name">A (P0)</text>
      <line x1="70" y1="96" x2="110" y2="96" class="pin-line"/><text x="62" y="100" text-anchor="end" class="pin-num">2</text><text x="116" y="100" class="pin-name">B (P1)</text>
      <line x1="70" y1="120" x2="110" y2="120" class="pin-line"/><text x="62" y="124" text-anchor="end" class="pin-num">3</text><text x="116" y="124" class="pin-name">C (P2)</text>
      <line x1="70" y1="144" x2="110" y2="144" class="pin-line"/><text x="62" y="148" text-anchor="end" class="pin-num">4</text><text x="116" y="148" class="pin-name">D (P3)</text>
      <line x1="70" y1="168" x2="110" y2="168" class="pin-line"/><text x="62" y="172" text-anchor="end" class="pin-num">5</text><text x="116" y="172" class="pin-name">CLR (LOW=clear)</text>
      <line x1="70" y1="192" x2="110" y2="192" class="pin-line"/><text x="62" y="196" text-anchor="end" class="pin-num">6</text><text x="116" y="196" class="pin-name">LOAD (LOW=parallel)</text>
      <line x1="70" y1="216" x2="110" y2="216" class="pin-line"/><text x="62" y="220" text-anchor="end" class="pin-num">7</text><text x="116" y="220" class="pin-name">ENP (enable)</text>
      <line x1="70" y1="240" x2="110" y2="240" class="pin-line"/><text x="62" y="244" text-anchor="end" class="pin-num">8</text><text x="116" y="244" class="pin-name">GND</text>
    </g>

    <!-- right pins (16..9) -->
    <g>
      <line x1="270" y1="72" x2="310" y2="72" class="pin-line"/><text x="318" y="76" class="pin-num">16</text><text x="180" y="76" text-anchor="end" class="pin-name">VCC</text>
      <line x1="270" y1="96" x2="310" y2="96" class="pin-line"/><text x="318" y="100" class="pin-num">15</text><text x="180" y="100" text-anchor="end" class="pin-name">CLK</text>
      <line x1="270" y1="120" x2="310" y2="120" class="pin-line"/><text x="318" y="124" class="pin-num">14</text><text x="180" y="124" text-anchor="end" class="pin-name">QA (Q0)</text>
      <line x1="270" y1="144" x2="310" y2="144" class="pin-line"/><text x="318" y="148" class="pin-num">13</text><text x="180" y="148" text-anchor="end" class="pin-name">QB (Q1)</text>
      <line x1="270" y1="168" x2="310" y2="168" class="pin-line"/><text x="318" y="172" class="pin-num">12</text><text x="180" y="172" text-anchor="end" class="pin-name">QC (Q2)</text>
      <line x1="270" y1="192" x2="310" y2="192" class="pin-line"/><text x="318" y="196" class="pin-num">11</text><text x="180" y="196" text-anchor="end" class="pin-name">QD (Q3)</text>
      <line x1="270" y1="216" x2="310" y2="216" class="pin-line"/><text x="318" y="220" class="pin-num">10</text><text x="180" y="220" text-anchor="end" class="pin-name">CET (enable T)</text>
      <line x1="270" y1="240" x2="310" y2="240" class="pin-line"/><text x="318" y="244" class="pin-num">9</text><text x="180" y="244" text-anchor="end" class="pin-name">CEP (enable P)</text>
    </g>

    <text x="190" y="286" text-anchor="middle" class="note">Uso sugerido: ENP/CEP/CET=HIGH, LOAD=HIGH, CLR=HIGH para contar; QA..QC → A..C del 74HC138</text>
  </g>

  <!-- 74HC138 -->
  <g id="hc138" transform="translate(980,90)">
    <rect x="0" y="0" width="380" height="300" class="chipbox"/>
    <text x="190" y="-10" text-anchor="middle" class="chipname">74HC138 — Decoder 3→8</text>
    <text x="190" y="20" text-anchor="middle" class="note">Mapeo típico SN74HC138N (TI): A=pin1, B=pin2, C=pin3</text>

    <!-- body -->
    <rect x="110" y="60" width="160" height="180" fill="#ffffff" stroke="#2b6cb0" stroke-width="2" rx="8"/>

    <!-- left pins (1..8) -->
    <g>
      <line x1="70" y1="72" x2="110" y2="72" class="pin-line"/><text x="62" y="76" text-anchor="end" class="pin-num">1</text><text x="116" y="76" class="pin-name">A (LSB)</text>
      <line x1="70" y1="96" x2="110" y2="96" class="pin-line"/><text x="62" y="100" text-anchor="end" class="pin-num">2</text><text x="116" y="100" class="pin-name">B</text>
      <line x1="70" y1="120" x2="110" y2="120" class="pin-line"/><text x="62" y="124" text-anchor="end" class="pin-num">3</text><text x="116" y="124" class="pin-name">C (MSB)</text>
      <line x1="70" y1="144" x2="110" y2="144" class="pin-line"/><text x="62" y="148" text-anchor="end" class="pin-num">4</text><text x="116" y="148" class="pin-name">G2A (LOW=enable)</text>
      <line x1="70" y1="168" x2="110" y2="168" class="pin-line"/><text x="62" y="172" text-anchor="end" class="pin-num">5</text><text x="116" y="172" class="pin-name">G2B (LOW=enable)</text>
      <line x1="70" y1="192" x2="110" y2="192" class="pin-line"/><text x="62" y="196" text-anchor="end" class="pin-num">6</text><text x="116" y="196" class="pin-name">G1 (HIGH=enable)</text>
      <line x1="70" y1="216" x2="110" y2="216" class="pin-line"/><text x="62" y="220" text-anchor="end" class="pin-num">7</text><text x="116" y="220" class="pin-name">Y7 (LOW)</text>
      <line x1="70" y1="240" x2="110" y2="240" class="pin-line"/><text x="62" y="244" text-anchor="end" class="pin-num">8</text><text x="116" y="244" class="pin-name">GND</text>
    </g>

    <!-- right pins (16..9) -->
    <g>
      <line x1="270" y1="72" x2="310" y2="72" class="pin-line"/><text x="318" y="76" class="pin-num">16</text><text x="180" y="76" text-anchor="end" class="pin-name">VCC</text>
      <line x1="270" y1="96" x2="310" y2="96" class="pin-line"/><text x="318" y="100" class="pin-num">15</text><text x="180" y="100" text-anchor="end" class="pin-name">Y0 (LOW)</text>
      <line x1="270" y1="120" x2="310" y2="120" class="pin-line"/><text x="318" y="124" class="pin-num">14</text><text x="180" y="124" text-anchor="end" class="pin-name">Y1 (LOW)</text>
      <line x1="270" y1="144" x2="310" y2="144" class="pin-line"/><text x="318" y="148" class="pin-num">13</text><text x="180" y="148" text-anchor="end" class="pin-name">Y2 (LOW)</text>
      <line x1="270" y1="168" x2="310" y2="168" class="pin-line"/><text x="318" y="172" class="pin-num">12</text><text x="180" y="172" text-anchor="end" class="pin-name">Y3 (LOW)</text>
      <line x1="270" y1="192" x2="310" y2="192" class="pin-line"/><text x="318" y="196" class="pin-num">11</text><text x="180" y="196" text-anchor="end" class="pin-name">Y4 (LOW)</text>
      <line x1="270" y1="216" x2="310" y2="216" class="pin-line"/><text x="318" y="220" class="pin-num">10</text><text x="180" y="220" text-anchor="end" class="pin-name">Y5 (LOW)</text>
      <line x1="270" y1="240" x2="310" y2="240" class="pin-line"/><text x="318" y="244" class="pin-num">9</text><text x="180" y="244" text-anchor="end" class="pin-name">Y6 (LOW)</text>
    </g>

    <text x="190" y="286" text-anchor="middle" class="note">Habilitación típica: G1=HIGH, G2A=GND, G2B=GND. Salidas activas en LOW.</text>
  </g>

  <!-- Conexiones típicas -->
  <g transform="translate(40,420)">
    <rect x="0" y="0" width="1320" height="320" class="box"/>
    <text x="20" y="26" class="sect-title">Resumen de conexiones recomendadas (matriz 8×8 multiplexada)</text>

    <text x="20" y="54" class="note">74HC595 (columnas):</text>
    <text x="40" y="76" class="note">• MR → VCC (desactivar reset) • OE → GND (salidas habilitadas) • ST_CP (RCLK) y SH_CP (SRCLK) comunes a ambos 595</text>
    <text x="40" y="96" class="note">• DS del 1.er 595 recibe datos; Q7' (pin 9) del 1.er 595 → DS del 2.º 595 (cascada)</text>
    <text x="40" y="116" class="note">• Q0..Q7 → resistencias 330 Ω → columnas de la matriz</text>

    <text x="20" y="146" class="note">74HC161 (contador de filas):</text>
    <text x="40" y="168" class="note">• ENP, CEP, CET → HIGH • LOAD → HIGH • CLR → HIGH • CLK ← reloj de escaneo (p.ej. ~2 kHz)</text>
    <text x="40" y="188" class="note">• QA..QC → A..C del 74HC138</text>

    <text x="20" y="218" class="note">74HC138 (selector de filas):</text>
    <text x="40" y="240" class="note">• G1 → HIGH • G2A → GND • G2B → GND • Y0..Y7 → filas (salidas activas LOW)</text>
    <text x="20" y="295" class="danger">Nota: verifica corriente por pin/total de los 74HC595; para corrientes mayores añade transistores/drivers.</text>
  </g>
</svg>